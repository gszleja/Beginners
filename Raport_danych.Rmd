---
title: "Raport danych"
author: "Gracjan"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  markdown: 
    wrap: 72
---

#Instalacja Pakietów

if (! require("tidyverse")) install.packages("tidyverse", dependencies = TRUE)
if (! require("dlookr")) install.packages("dlookr", dependencies = TRUE)
if (! require("VIM")) install.packages("VIM", dependencies = TRUE)
if (! require("validate")) install.packages("validate", dependencies = TRUE)

#Wczytywanie bibliotek

library(tidyverse)
library(dlookr)
library(VIM)
library(validate)
library(readr)


#Wproadzenie danych

```{r}
Hipoteczny <- read_delim("Hipoteczny.csv", 
    delim = ";", escape_double = FALSE, trim_ws = TRUE)
hipo_baza <- Hipoteczny
```

#Wizualizacja Danych

```{r}
sum(is.na(hipo_baza))
hipo_baza <- hipo_baza[complete.cases(hipo_baza), ]
sum(is.na(hipo_baza))

```

#Sprwadzanie i usuwanie dupliatów

```{r}
sum(duplicated(hipo_baza$Loan_ID))
hipo_baza <- hipo_baza[!duplicated(hipo_baza$Loan_ID), ]
sum(duplicated(hipo_baza$Loan_ID))


```

#Usuwanie błednych wartości 

```{r}
sum(!grepl("LP", hipo_baza$Loan_ID))
hipo_baza <- hipo_baza[grepl("^LP\\d{6}$", hipo_baza$Loan_ID), ]  #czyszczenie jeśli nie mają LP i 6 cyfr
hipo_baza <- subset(hipo_baza, Gender %in% c("Male", "Female")) #czyszczenie jesli nie ma male lub female
hipo_baza <- subset(hipo_baza, Married %in% c("Yes", "No")) #czyszczenie jesli nie ma Yes lub No
hipo_baza <- subset(hipo_baza, Education %in% c("Graduate", "Not Graduate")) #czyszczenie jesli graduate lub Not



```



#Kolumna Gender, przekodowanie aby 1 ozn. mężczyzne a 0 kobietę
```{r}
hipo_baza$Gender <- ifelse(hipo_baza$Gender == "Male", 1, 0)
```

#Kolumna Married, przekodowanie aby 1 ozn. Żonatych a 0 nieżonatych
```{r}
hipo_baza$Married <- ifelse(hipo_baza$Married == "Yes", 1, 0)
```

#Kolumna Education, przekodowanie aby Graduate =1 a 0=Not Graduate.
```{r}
hipo_baza$Education <- ifelse(hipo_baza$Education == "Graduate", 1, 0)
```

#Kolumna Self_Employed, przekodowanie Yes=1, No=0
```{r}
hipo_baza$Self_Employed <- ifelse(hipo_baza$Self_Employed == "Yes", 1, 0)
```
